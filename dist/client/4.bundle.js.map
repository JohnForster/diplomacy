{"version":3,"sources":["webpack:///./src/client/app/components/formBox/formBox.tsx","webpack:///./src/client/app/components/formBox/formBox.scss?4c05","webpack:///./src/client/app/components/formBox/formBox.scss","webpack:///./src/client/app/pages/register/register.tsx"],"names":["FormBox","_super","__extends","prototype","render","Object","preact__WEBPACK_IMPORTED_MODULE_0__","className","this","props","children","content","__webpack_require__","module","i","options","hmr","transform","insertInto","undefined","locals","exports","push","Register","_this","apply","arguments","state","formFields","handleSubmit","evt","__awaiter","preventDefault","await_to_js__WEBPACK_IMPORTED_MODULE_0__","axios__WEBPACK_IMPORTED_MODULE_1___default","a","post","_a","_b","sent","err","res","console","log","preact_router__WEBPACK_IMPORTED_MODULE_4__","handleChange","field","lodash_clone__WEBPACK_IMPORTED_MODULE_2___default","target","value","setState","preact__WEBPACK_IMPORTED_MODULE_3__","_components_formBox_formBox__WEBPACK_IMPORTED_MODULE_5__","action","method","onSubmit","type","name","username","onChange","email","password"],"mappings":"gaAIAA,EAAA,SAAAC,GAAA,SAAAD,mDAQA,OARqCE,EAAAF,EAAAC,GACnCD,EAAAG,UAAAC,OAAA,WACE,OACEC,OAAAC,EAAA,EADK,CACL,OAAKC,UAAU,WACZC,KAAKC,MAAMC,WAIpBV,EARA,CAAqCM,EAAA,6BCHrC,IAAAK,EAAcC,EAAQ,IAEtB,iBAAAD,MAAA,EAA4CE,EAAAC,EAASH,EAAA,MAOrD,IAAAI,EAAA,CAAeC,KAAA,EAEfC,eAPAA,EAQAC,gBAAAC,GAEaP,EAAQ,EAARA,CAAoED,EAAAI,GAEjFJ,EAAAS,SAAAP,EAAAQ,QAAAV,EAAAS,6BCjBAC,EAAAR,EAAAQ,QAA2BT,EAAQ,EAARA,EAAoE,IAE/FU,KAAA,CAAcT,EAAAC,EAAS,kFAAkF,KAEzGO,EAAAC,KAAA,CAAcT,EAAAC,EAAS,giBAA8hB,itDCiBrjBS,EAAA,SAAAtB,GAAA,SAAAsB,IAAA,IAAAC,EAAA,OAAAvB,KAAAwB,MAAAjB,KAAAkB,YAAAlB,YACEgB,EAAAG,MAAwB,CACtBC,WAAY,IA8CNJ,EAAAK,aAAe,SAAOC,GAAU,OAAAC,EAAAP,OAAA,+EAEnB,OADnBM,EAAIE,iBACe,GAAM3B,OAAA4B,EAAA,EAAA5B,CAAG6B,EAAAC,EAAMC,KAAK,qBAAsB5B,KAAKmB,MAAMC,4BAAlES,EAAaC,EAAAC,OAAZC,EAAGH,EAAA,GAAEI,EAAGJ,EAAA,GACXG,GAAKE,QAAQC,IAAIH,GACjBC,GAAKpC,OAAAuC,EAAA,EAAAvC,CAAM,KAAK,aAGdmB,EAAAqB,aAAe,SAACC,GACtB,OAAO,SAAChB,GACN,IAAMF,EAAamB,IAAMvB,EAAKG,MAAMC,YACpCA,EAAWkB,GAAUhB,EAAIkB,OAA4BC,MACrDzB,EAAK0B,SAAS,CAACtB,WAAUA,QAG/B,OA9DsC1B,EAAAqB,EAAAtB,GAKpCsB,EAAApB,UAAAC,OAAA,SAAOK,EAAuBkB,GAC5B,OACEtB,OAAA8C,EAAA,EADK,CACL,OAAK5C,UAAU,QACbF,OAAA8C,EAAA,EAAA9C,CAAC+C,EAAA,EAAO,KACN/C,OAAA8C,EAAA,EAAA9C,CAAA,QAAMgD,OAAO,iBAAiBC,OAAO,OAAQC,SAAU/C,KAAKqB,0BACjDxB,OAAA8C,EAAA,EAAA9C,CAAA,WACTA,OAAA8C,EAAA,EAAA9C,CAAA,SACEmD,KAAK,OACLC,KAAK,WACLR,MAAOtB,EAAMC,WAAW8B,SACxBC,SAAUnD,KAAKqC,aAAa,cAC1BxC,OAAA8C,EAAA,EAAA9C,CAAA,mBAECA,OAAA8C,EAAA,EAAA9C,CAAA,WACLA,OAAA8C,EAAA,EAAA9C,CAAA,SACEmD,KAAK,OACLC,KAAK,OACLR,MAAOtB,EAAMC,WAAW6B,KACxBE,SAAUnD,KAAKqC,aAAa,UAC1BxC,OAAA8C,EAAA,EAAA9C,CAAA,oBAEEA,OAAA8C,EAAA,EAAA9C,CAAA,WACNA,OAAA8C,EAAA,EAAA9C,CAAA,SACEmD,KAAK,OACLC,KAAK,QACLR,MAAOtB,EAAMC,WAAWgC,MACxBD,SAAUnD,KAAKqC,aAAa,WAC1BxC,OAAA8C,EAAA,EAAA9C,CAAA,uBAEKA,OAAA8C,EAAA,EAAA9C,CAAA,WACTA,OAAA8C,EAAA,EAAA9C,CAAA,SACEmD,KAAK,WACLC,KAAK,WACLR,MAAOtB,EAAMC,WAAWiC,SACxBF,SAAUnD,KAAKqC,aAAa,cAC1BxC,OAAA8C,EAAA,EAAA9C,CAAA,WACJA,OAAA8C,EAAA,EAAA9C,CAAA,SAAOmD,KAAK,SAASP,MAAM,eAqBvC1B,EA9DA,CAAsC4B,EAAA","file":"4.bundle.js","sourcesContent":["import { Component, h } from 'preact'\n\nimport './formBox.scss'\n\nexport default class FormBox extends Component {\n  render() {\n    return (\n      <div className=\"formBox\">\n        {this.props.children}\n      </div>\n    )\n  }\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/sass-loader/lib/loader.js!./formBox.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/sass-loader/lib/loader.js!./formBox.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/sass-loader/lib/loader.js!./formBox.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Imports\nexports.push([module.id, \"@import url(https://fonts.googleapis.com/css?family=Notable|Arvo&display=swap);\", \"\"]);\n// Module\nexports.push([module.id, \".formBox {\\n  font-family: 'Notable', 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;\\n  text-align: center;\\n  font-size: 16px;\\n  border-radius: 20px;\\n  padding: 24px;\\n  background-color: #4972AB;\\n  color: #EFEFEF;\\n  letter-spacing: 2px;\\n  box-shadow: 5px 5px 0px #102542;\\n  margin: auto; }\\n  .formBox input[type=submit] {\\n    width: 50%;\\n    font-size: 12px;\\n    font-family: 'Notable', 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;\\n    letter-spacing: 1px; }\\n\\na {\\n  color: #EFEFEF; }\\n\", \"\"]);\n","import to from 'await-to-js'\nimport Axios from 'axios'\nimport clone from 'lodash.clone'\nimport {Component, h} from 'preact'\nimport { route } from 'preact-router'\n\nimport FormBox from '../../components/formBox/formBox';\n\nexport interface IRegisterProps {\n\n}\n\ninterface IRegisterState {\n  formFields?: {\n    username?: string,\n    name?: string,\n    email?: string,\n    password?: string,\n  }\n}\n\nexport default class Register extends Component <IRegisterProps, IRegisterState> {\n  state: IRegisterState = {\n    formFields: {},\n  }\n\n  render(props: IRegisterProps, state: IRegisterState) {\n    return (\n      <div className=\"page\">\n        <FormBox>\n          <form action='/user/register' method='post'  onSubmit={this.handleSubmit}>\n            Username:<br/>\n            <input\n              type='text'\n              name='username'\n              value={state.formFields.username}\n              onChange={this.handleChange('username')}\n              /><br/>\n\n            Name:<br/>\n            <input\n              type='text'\n              name='name'\n              value={state.formFields.name}\n              onChange={this.handleChange('name')}\n              /><br/>\n\n            Email:<br/>\n            <input\n              type='text'\n              name='email'\n              value={state.formFields.email}\n              onChange={this.handleChange('email')}\n              /><br/>\n\n            Password:<br/>\n            <input\n              type='password'\n              name='password'\n              value={state.formFields.password}\n              onChange={this.handleChange('password')}\n              /><br/>\n            <input type='submit' value='Submit' />\n          </form>\n        </FormBox>\n      </div>\n    )\n  }\n\n  private handleSubmit = async (evt: Event) => {\n    evt.preventDefault()\n    const [err, res] = await to(Axios.post('/api/user/register', this.state.formFields))\n    if (err) console.log(err)\n    if (res) route('/', true)\n  }\n\n  private handleChange = (field: 'username' | 'name' | 'email' | 'password') => {\n    return (evt: Event) => {\n      const formFields = clone(this.state.formFields)\n      formFields[field] = (evt.target as HTMLInputElement).value\n      this.setState({formFields})\n    }\n  }\n}\n"],"sourceRoot":""}