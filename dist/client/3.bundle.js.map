{"version":3,"sources":["webpack:///./src/client/app/components/formBox/formBox.tsx","webpack:///./src/client/app/components/formBox/styled.ts","webpack:///./src/client/app/pages/login/login.tsx","webpack:///./src/client/app/pages/login/styled.ts"],"names":[],"mappings":"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","file":"3.bundle.js","sourcesContent":["import { h } from 'preact'\n\nimport * as Styled from './styled'\n\nconst FormBox: React.FC = ({children}) => (\n  <Styled.FormBox>\n    {children}\n  </Styled.FormBox>\n)\n\nexport default FormBox","import styled from 'styled-components'\nimport Colours from '../../variables/colors'\n\nexport const FormBox = styled.div`\n  @import url('https://fonts.googleapis.com/css?family=Notable|Arvo&display=swap');\n\n  font-family: 'Notable', 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;\n  text-align: center;\n  font-size: 16px;\n  border-radius: 20px;\n  padding: 24px;\n  background-color: ${Colours.highlight};\n  color: ${Colours.offwhite};\n  letter-spacing:2px;\n  box-shadow: 5px 5px 0px ${Colours.shadow};\n\n  input[type=submit] {\n    width: 50%;\n    font-size: 12px;\n    font-family: 'Notable', 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;\n    letter-spacing: 1px;\n  }\n\n  a {\n    color: ${Colours.offwhite};\n  }\n`\n","import {Component, h, Fragment} from 'preact'\n\nimport to from 'await-to-js'\nimport axios from 'axios'\nimport clone from 'lodash.clone'\nimport { Link, route } from 'preact-router'\n\nimport FormBox from '../../components/formBox/formBox'\n\nimport * as Styled from './styled'\n\nexport interface ILoginProps {\n  toggleLogIn: (arg: boolean) => void\n}\n\ninterface ILoginState {\n  formFields?: {\n    username?: string,\n    password?: string,\n  }\n}\n\nexport default class Login extends Component <ILoginProps, ILoginState> {\n  state: ILoginState = { formFields: {} }\n  usernameInput: HTMLInputElement\n  passwordInput: HTMLInputElement\n\n  componentDidMount () {\n    this.setState({\n      formFields: {\n        username: this.usernameInput.value,\n        password: this.passwordInput.value,\n      }\n    })\n  }\n\n  render(props: ILoginProps, state: ILoginState) {\n    return (\n      <Fragment>\n        <Styled.Title>Diplomacy</Styled.Title><br/>\n        <FormBox>\n            {/* <button onClick={() => {route('/game', true)}}> Game </button> */}\n            <form action='api/user/authenticate' method='post' onSubmit={this.login}>\n              Username?<br/>\n              <input ref={usernameInput => this.usernameInput = usernameInput} type='text' name='username' onChange={this.handleChange('username')}/><br/>\n              Password<br/>\n              <input ref={passwordInput => this.passwordInput = passwordInput} type='password' name='password' onChange={this.handleChange('password')}/><br/>\n              <input type='submit' value='Submit'/>\n            </form>\n            <p>New? Register <Link href='/register'>here</Link></p>\n        </FormBox>\n      </Fragment>\n    )\n  }\n\n  login = async (evt: Event) => {\n    evt.preventDefault()\n    console.log('attempting to log in')\n    console.log(this.state.formFields)\n    const [err, res] = await to(axios.post('api/login', this.state.formFields))\n    if (err) {\n      console.log('logging an err')\n      console.log(err)\n    }\n    if (res) {\n      console.log('success!')\n      console.log(res.data)\n      await this.props.toggleLogIn(true)\n      route('/game')\n    }\n  }\n\n  handleChange = (field: 'username' | 'password') => {\n    return (event: Event) => {\n      const formFields = clone(this.state.formFields)\n      formFields[field] = (event.target as HTMLInputElement).value\n      this.setState({formFields})\n    }\n  }\n}\n","import styled from 'styled-components'\n\n// import Colours from '../../variables/colors'\n\nexport const Title = styled.h1`\n`\n"],"sourceRoot":""}