!function(e){var n={};function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)t.d(r,a,function(n){return e[n]}.bind(null,a));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){"use strict";t.r(n);var r,a={Austria:"#FF0000",England:"#0000FF",France:"#00FFFF",Germany:"#808080",Italy:"#00FF00",Russia:"#008000",Turkey:"#FFFF00"},i={Switzerland:{x:219,y:376},Adriatic_Sea:{x:296,y:441},Aegean_Sea:{x:403,y:524},Albania:{x:339,y:469},Ankara:{x:500,y:460},scAnkara:{x:482,y:469},Apulia:{x:302,y:472},Armenia:{x:576,y:456},Baltic_Sea:{x:323,y:250},Barents_Sea:{x:445,y:41},Belgium:{x:197,y:317},scBelgium:{x:186,y:305},Berlin:{x:279,y:283},scBerlin:{x:281,y:298},Black_Sea:{x:484,y:420},Bohemia:{x:289,y:336},Brest:{x:125,y:334},scBrest:{x:106,y:322},Budapest:{x:353,y:378},scBudapest:{x:326,y:376},Bulgaria:{x:395,y:443},scBulgaria:{x:377,y:444},Bulgaria__ec:{x:410,y:440},Bulgaria__sc:{x:399,y:462},Burgundy:{x:191,y:360},Clyde:{x:139,y:188},Constantinople:{x:439,y:473},scConstantinople:{x:429,y:460},Denmark:{x:256,y:245},scDenmark:{x:272,y:252},Eastern_Mediterranean:{x:474,y:546},Edinburgh:{x:157,y:210},scEdinburgh:{x:154,y:219},English_Channel:{x:119,y:307},Finland:{x:385,y:143},Galicia:{x:377,y:343},Gascony:{x:137,y:388},Greece:{x:366,y:515},scGreece:{x:378,y:507},Gulf_of_Lyon:{x:180,y:444},Gulf_of_Bothnia:{x:348,y:199},Helgoland_Bight:{x:226,y:252},Holland:{x:205,y:297},scHolland:{x:205,y:284},Ionian_Sea:{x:324,y:540},Irish_Sea:{x:90,y:276},Kiel:{x:243,y:295},scKiel:{x:254,y:278},Liverpool:{x:142,y:241},scLiverpool:{x:144,y:257},Livonia:{x:382,y:245},London:{x:162,y:281},scLondon:{x:162,y:290},Marseilles:{x:188,y:398},scMarseilles:{x:186,y:417},Mid_Atlantic_Ocean:{x:23,y:355},Moscow:{x:505,y:226},scMoscow:{x:481,y:234},Munich:{x:243,y:347},scMunich:{x:258,y:359},Naples:{x:299,y:505},scNaples:{x:278,y:469},North_Atlantic_Ocean:{x:65,y:140},North_Africa:{x:100,y:536},North_Sea:{x:204,y:215},Norway:{x:264,y:160},scNorway:{x:270,y:187},Norwegian_Sea:{x:220,y:90},Paris:{x:162,y:346},scParis:{x:173,y:334},Picardy:{x:168,y:319},Piedmont:{x:220,y:395},Portugal:{x:34,y:417},scPortugal:{x:15,y:434},Prussia:{x:315,y:283},Rome:{x:264,y:452},scRome:{x:252,y:443},Ruhr:{x:223,y:320},Rumania:{x:415,y:405},scRumania:{x:402,y:413},Serbia:{x:351,y:438},scSerbia:{x:343,y:419},Sevastopol:{x:515,y:330},scSevastopol:{x:483,y:396},Silesia:{x:304,y:314},Skagerrak:{x:260,y:212},Smyrna:{x:490,y:505},scSmyrna:{x:424,y:502},Spain:{x:64,y:439},scSpain:{x:80,y:432},Spain__nc:{x:80,y:404},Spain__sc:{x:52,y:475},St_Petersburg:{x:500,y:140},scSt_Petersburg:{x:418,y:187},St_Petersburg__nc:{x:472,y:122},St_Petersburg__sc:{x:418,y:205},Sweden:{x:315,y:140},scSweden:{x:323,y:196},Syria:{x:570,y:520},Trieste:{x:305,y:412},scTrieste:{x:284,y:396},Tunis:{x:212,y:542},scTunis:{x:220,y:529},Tuscany:{x:247,y:430},Tyrolia:{x:277,y:378},Tyrrhenian_Sea:{x:246,y:483},Ukraine:{x:427,y:327},Venice:{x:250,y:408},scVenice:{x:261,y:397},Vienna:{x:314,y:360},scVienna:{x:301,y:363},Wales:{x:125,y:285},Warsaw:{x:361,y:315},scWarsaw:{x:346,y:302},Western_Mediterranean:{x:140,y:492},Yorkshire:{x:161,y:254}},s=JSON.stringify({England:[{unitType:"fleet",location:"Spain__sc"},{unitType:"fleet",location:"Mid_Atlantic_Ocean"},{unitType:"fleet",location:"English_Channel"},{unitType:"army",location:"Burgundy"},{unitType:"army",location:"Holland"}],Italy:[{unitType:"fleet",location:"Rome"},{unitType:"fleet",location:"Marseilles"},{unitType:"army",location:"Piedmont"},{unitType:"army",location:"Vienna"}]}),y=JSON.stringify({moves:[{country:"England",start:"London",end:"Yorkshire"},{country:"Germany",start:"Berlin",end:"Kiel"},{country:"France",start:"Burgundy",end:"Marseilles"}]}),o=JSON.stringify({territories:{England:["London","Liverpool","Yorkshire","Clyde","Edinburgh","Wales"],France:["Picardy","Brest","Paris","Gascony","Burgundy","Marseilles"],Italy:["Piedmont","Venice","Rome","Naples","Apulia","Tuscany"],Germany:["Berlin","Ruhr","Munich","Kiel","Silesia","Prussia"],Austria:["Bohemia","Budapest","Tyrolia","Galicia","Vienna","Trieste"],Russia:["Warsaw","Livonia","Sevastopol","Moscow","Ukraine","Finland","St_Petersburg"],Turkey:["Constantinople","Smyrna","Syria","Ankara","Armenia"]}});!function(e){e[e.England=0]="England",e[e.France=1]="France",e[e.Germany=2]="Germany",e[e.Italy=3]="Italy",e[e.Austria=4]="Austria",e[e.Turkey=5]="Turkey",e[e.Russia=6]="Russia"}(r||(r={}));var l=r,c=new(function(){return function(){var e=this;this.playerCountry="England",this.setState=function(n){e.state=JSON.parse(n)},this.run=function(){},this.setup=function(n){e.svg=n;var t=Array.from(n.getElementsByClassName("seaTile"));t.push.apply(t,Array.from(n.getElementsByClassName("landTile"))),t.forEach(function(n){n.addEventListener("click",function(t){e.onClick(n.getAttribute("title"))})});var r=e.state.territories,a=function(n){r.hasOwnProperty(n)&&r[n].forEach(function(t){return e.setOwnership(t,n)})};for(var i in r)a(i);e.units=JSON.parse(s),e.drawUnits(e.units),e.drawInstructions(JSON.parse(y))},this.onClick=function(n){e.tileSelected?(e.drawLine(i[e.tileSelected],i[n]),e.tileSelected=null):e.startOrder(n)},this.startOrder=function(n){e.playerHasUnitAt(n)&&(e.tileSelected=n)},this.playerHasUnitAt=function(n){return!!e.units[e.playerCountry].find(function(e){return e.location===n})},this.drawLine=function(n,t,r){var a=document.createElementNS("http://www.w3.org/2000/svg","path");a.setAttribute("d","M "+n.x+" "+n.y+" L "+t.x+" "+t.y),a.setAttribute("stroke","green"),a.style.strokeWidth="2px",a.style.markerEnd="url(#triangle)",e.svg.appendChild(a)},this.drawUnits=function(n){var t=function(t){if(l.hasOwnProperty(t)){var r=l[t];if(!n[r])return"continue";n[r].forEach(function(n){e.drawUnit(n.location,r,n.unitType)})}};for(var r in l)t(r)},this.drawUnit=function(n,t,r){var a=document.createElementNS("http://www.w3.org/2000/svg","use"),s=i[n];a.setAttribute("href",{fleet:"#F",army:"#A"}[r]),a.setAttribute("class",t),a.setAttribute("transform","translate("+s.x+", "+s.y+")"),e.svg.appendChild(a)},this.drawInstructions=function(n){n.moves.forEach(function(n){e.drawLine(i[n.start],i[n.end],a[n.country])})},this.setOwnership=function(n,t){Array.from(e.svg.getElementsByClassName(n)).forEach(function(e){e.classList.remove("England","France","Germany","Austria","Russia","Italy","Turkey"),e.classList.add(t)})},this.setState(o)}}());window.addEventListener("load",function(){var e=document.getElementById("mainMap").contentDocument.getElementById("mapSvg");c.setup(e),c.run()})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NsaWVudC9yZXNvdXJjZXMvY29sb3Vycy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY2xpZW50L3Jlc291cmNlcy9jb3VudHJ5LmVudW0udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NsaWVudC9yZXNvdXJjZXMvZW50aXR5TG9jYXRpb25zLnRzIiwid2VicGFjazovLy8uL3NyYy9jbGllbnQvcmVzb3VyY2VzL2V4YW1wbGVHYW1lU3RhdGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NsaWVudC9yZXNvdXJjZXMvZXhhbXBsZU1vdmVzLnRzIiwid2VicGFjazovLy8uL3NyYy9jbGllbnQvcmVzb3VyY2VzL3N0YXJ0aW5nVGVycml0b3JpZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NsaWVudC9lbmdpbmUvcHJvdG90eXBlLnRzIiwid2VicGFjazovLy8uL3NyYy9jbGllbnQvaW5kZXgudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJDb3VudHJ5IiwicmVzb3VyY2VzX2NvbG91cnMiLCJBdXN0cmlhIiwiRW5nbGFuZCIsIkZyYW5jZSIsIkdlcm1hbnkiLCJJdGFseSIsIlJ1c3NpYSIsIlR1cmtleSIsImVudGl0eUxvY2F0aW9ucyIsIlN3aXR6ZXJsYW5kIiwieCIsInkiLCJBZHJpYXRpY19TZWEiLCJBZWdlYW5fU2VhIiwiQWxiYW5pYSIsIkFua2FyYSIsInNjQW5rYXJhIiwiQXB1bGlhIiwiQXJtZW5pYSIsIkJhbHRpY19TZWEiLCJCYXJlbnRzX1NlYSIsIkJlbGdpdW0iLCJzY0JlbGdpdW0iLCJCZXJsaW4iLCJzY0JlcmxpbiIsIkJsYWNrX1NlYSIsIkJvaGVtaWEiLCJCcmVzdCIsInNjQnJlc3QiLCJCdWRhcGVzdCIsInNjQnVkYXBlc3QiLCJCdWxnYXJpYSIsInNjQnVsZ2FyaWEiLCJCdWxnYXJpYV9fZWMiLCJCdWxnYXJpYV9fc2MiLCJCdXJndW5keSIsIkNseWRlIiwiQ29uc3RhbnRpbm9wbGUiLCJzY0NvbnN0YW50aW5vcGxlIiwiRGVubWFyayIsInNjRGVubWFyayIsIkVhc3Rlcm5fTWVkaXRlcnJhbmVhbiIsIkVkaW5idXJnaCIsInNjRWRpbmJ1cmdoIiwiRW5nbGlzaF9DaGFubmVsIiwiRmlubGFuZCIsIkdhbGljaWEiLCJHYXNjb255IiwiR3JlZWNlIiwic2NHcmVlY2UiLCJHdWxmX29mX0x5b24iLCJHdWxmX29mX0JvdGhuaWEiLCJIZWxnb2xhbmRfQmlnaHQiLCJIb2xsYW5kIiwic2NIb2xsYW5kIiwiSW9uaWFuX1NlYSIsIklyaXNoX1NlYSIsIktpZWwiLCJzY0tpZWwiLCJMaXZlcnBvb2wiLCJzY0xpdmVycG9vbCIsIkxpdm9uaWEiLCJMb25kb24iLCJzY0xvbmRvbiIsIk1hcnNlaWxsZXMiLCJzY01hcnNlaWxsZXMiLCJNaWRfQXRsYW50aWNfT2NlYW4iLCJNb3Njb3ciLCJzY01vc2NvdyIsIk11bmljaCIsInNjTXVuaWNoIiwiTmFwbGVzIiwic2NOYXBsZXMiLCJOb3J0aF9BdGxhbnRpY19PY2VhbiIsIk5vcnRoX0FmcmljYSIsIk5vcnRoX1NlYSIsIk5vcndheSIsInNjTm9yd2F5IiwiTm9yd2VnaWFuX1NlYSIsIlBhcmlzIiwic2NQYXJpcyIsIlBpY2FyZHkiLCJQaWVkbW9udCIsIlBvcnR1Z2FsIiwic2NQb3J0dWdhbCIsIlBydXNzaWEiLCJSb21lIiwic2NSb21lIiwiUnVociIsIlJ1bWFuaWEiLCJzY1J1bWFuaWEiLCJTZXJiaWEiLCJzY1NlcmJpYSIsIlNldmFzdG9wb2wiLCJzY1NldmFzdG9wb2wiLCJTaWxlc2lhIiwiU2thZ2VycmFrIiwiU215cm5hIiwic2NTbXlybmEiLCJTcGFpbiIsInNjU3BhaW4iLCJTcGFpbl9fbmMiLCJTcGFpbl9fc2MiLCJTdF9QZXRlcnNidXJnIiwic2NTdF9QZXRlcnNidXJnIiwiU3RfUGV0ZXJzYnVyZ19fbmMiLCJTdF9QZXRlcnNidXJnX19zYyIsIlN3ZWRlbiIsInNjU3dlZGVuIiwiU3lyaWEiLCJUcmllc3RlIiwic2NUcmllc3RlIiwiVHVuaXMiLCJzY1R1bmlzIiwiVHVzY2FueSIsIlR5cm9saWEiLCJUeXJyaGVuaWFuX1NlYSIsIlVrcmFpbmUiLCJWZW5pY2UiLCJzY1ZlbmljZSIsIlZpZW5uYSIsInNjVmllbm5hIiwiV2FsZXMiLCJXYXJzYXciLCJzY1dhcnNhdyIsIldlc3Rlcm5fTWVkaXRlcnJhbmVhbiIsIllvcmtzaGlyZSIsImV4YW1wbGVHYW1lU3RhdGUiLCJKU09OIiwic3RyaW5naWZ5IiwidW5pdFR5cGUiLCJsb2NhdGlvbiIsImV4YW1wbGVNb3ZlcyIsIm1vdmVzIiwiY291bnRyeSIsInN0YXJ0IiwiZW5kIiwic3RhcnRpbmdUZXJyaXRvcmllcyIsInRlcnJpdG9yaWVzIiwiY291bnRyeV9lbnVtIiwiZW5naW5lX3Byb3RvdHlwZSIsIl90aGlzIiwidGhpcyIsInBsYXllckNvdW50cnkiLCJzZXRTdGF0ZSIsInN0YXRlQXNKU09OIiwic3RhdGUiLCJwYXJzZSIsInJ1biIsInNldHVwIiwic3ZnIiwidGlsZXMiLCJBcnJheSIsImZyb20iLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwicHVzaCIsImFwcGx5IiwiZm9yRWFjaCIsInRpbGUiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZ0Iiwib25DbGljayIsImdldEF0dHJpYnV0ZSIsIm9jY3VwaWVkVGVycml0b3JpZXMiLCJ0ZXJyaXRvcnkiLCJzZXRPd25lcnNoaXAiLCJ1bml0cyIsImRyYXdVbml0cyIsImRyYXdJbnN0cnVjdGlvbnMiLCJ0aWxlU2VsZWN0ZWQiLCJkcmF3TGluZSIsInN0YXJ0T3JkZXIiLCJwbGF5ZXJIYXNVbml0QXQiLCJmaW5kIiwidW5pdCIsImNvbG9yIiwibGluZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudE5TIiwic2V0QXR0cmlidXRlIiwic3R5bGUiLCJzdHJva2VXaWR0aCIsIm1hcmtlckVuZCIsImFwcGVuZENoaWxkIiwiZ2FtZVN0YXRlIiwiY291bnRyeV8xIiwiZHJhd1VuaXQiLCJ1bml0TG9jYXRpb24iLCJmbGVldCIsImFybXkiLCJpbnN0cnVjdGlvbnMiLCJtb3ZlIiwib3duZXIiLCJ0ZXJyIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiYWRkIiwid2luZG93IiwiZ2V0RWxlbWVudEJ5SWQiLCJjb250ZW50RG9jdW1lbnQiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsUUFBQSxJQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxFQUFBLENBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxZQUFBLENBQXdEQyxNQUFBLFdB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QUFJMUksS0FBS21KLElBQUxuSixJQWVIc0osS0FBQTRDLFNBQVcsU0FBQ0MsRUFBc0I1QyxFQUF1QmIsR0FDL0QsSUFDTTRDLEVBQU9HLFNBQVNDLGdCQUFnQiw2QkFBOEIsT0FDOUQvQyxFQUFXM0gsRUFBZ0JtTCxHQUNqQ2IsRUFBS0ssYUFBYSxPQUgyQixDQUFDUyxNQUFPLEtBQU1DLEtBQU0sTUFHM0IzRCxJQUN0QzRDLEVBQUtLLGFBQWEsUUFBU3BDLEdBQzNCK0IsRUFBS0ssYUFBYSxZQUFhLGFBQWFoRCxFQUFTekgsRUFBQyxLQUFLeUgsRUFBU3hILEVBQUMsS0FDckVrSSxFQUFLUyxJQUFJaUMsWUFBWVQsSUFxQmZoQyxLQUFBMEIsaUJBQW1CLFNBQUNzQixHQUMxQkEsRUFBYXpELE1BQU13QixRQUFRLFNBQUNrQyxHQUMxQmxELEVBQUs2QixTQUFTbEssRUFBZ0J1TCxFQUFLeEQsT0FBUS9ILEVBQWdCdUwsRUFBS3ZELEtBQU14SSxFQUFRK0wsRUFBS3pELGFBSS9FUSxLQUFBdUIsYUFBZSxTQUFDRCxFQUFtQjRCLEdBQ2Z4QyxNQUFNQyxLQUFLWixFQUFLUyxJQUFJSSx1QkFBdUJVLElBQ25EUCxRQUFRLFNBQUNvQyxHQUN6QkEsRUFBS0MsVUFBVUMsT0FBTyxVQUFXLFNBQVUsVUFBVyxVQUFXLFNBQVUsUUFBUyxVQUNwRkYsRUFBS0MsVUFBVUUsSUFBSUosTUF0SHJCbEQsS0FBS0UsU0FBU1AsSUFWSCxJQ05mNEQsT0FBT3RDLGlCQUFpQixPQUFRLFdBQzlCLElBQ01ULEVBRFkyQixTQUFTcUIsZUFBZSxXQUNwQkMsZ0JBQWdCRCxlQUFlLFVBQ3JEMUQsRUFBT1MsTUFBTUMsR0FDYlYsRUFBT1EiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiY29uc3QgY29sb3Vyczoge1trZXk6IHN0cmluZ106IHN0cmluZ30gPSB7XG4gIFwiQXVzdHJpYVwiOiBcIiNGRjAwMDBcIixcbiAgXCJFbmdsYW5kXCI6IFwiIzAwMDBGRlwiLFxuICBcIkZyYW5jZVwiOiBcIiMwMEZGRkZcIixcbiAgXCJHZXJtYW55XCI6IFwiIzgwODA4MFwiLFxuICBcIkl0YWx5XCI6IFwiIzAwRkYwMFwiLFxuICBcIlJ1c3NpYVwiOiBcIiMwMDgwMDBcIixcbiAgXCJUdXJrZXlcIjogXCIjRkZGRjAwXCIsXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbG91cnNcbiIsImVudW0gQ291bnRyeSB7XG4gIEVuZ2xhbmQsXG4gIEZyYW5jZSxcbiAgR2VybWFueSxcbiAgSXRhbHksXG4gIEF1c3RyaWEsXG4gIFR1cmtleSxcbiAgUnVzc2lhLFxufVxuZXhwb3J0IGRlZmF1bHQgQ291bnRyeVxuIiwiY29uc3QgbG9jYXRpb25zOiB7W2tleTogc3RyaW5nXToge3g6IG51bWJlciwgeTogbnVtYmVyfX0gPSB7XG5cdCdTd2l0emVybGFuZCc6IHsgeDogMjE5LCB5OiAzNzYgfSxcbiAgJ0FkcmlhdGljX1NlYSc6IHsgeDogMjk2LCB5OiA0NDEgfSxcblx0J0FlZ2Vhbl9TZWEnOiB7IHg6IDQwMywgeTogNTI0IH0sXG5cdCdBbGJhbmlhJzogeyB4OiAzMzksIHk6IDQ2OSB9LFxuXHQnQW5rYXJhJzogeyB4OiA1MDAsIHk6IDQ2MCB9LFx0J3NjQW5rYXJhJzogeyB4OiA0ODIsIHk6IDQ2OSB9LFxuXHQnQXB1bGlhJzogeyB4OiAzMDIsIHk6IDQ3MiB9LFxuXHQnQXJtZW5pYSc6IHsgeDogNTc2LCB5OiA0NTYgfSxcblx0J0JhbHRpY19TZWEnOiB7IHg6IDMyMywgeTogMjUwIH0sXG5cdCdCYXJlbnRzX1NlYSc6IHsgeDogNDQ1LCB5OiA0MSB9LFxuXHQnQmVsZ2l1bSc6IHsgeDogMTk3LCB5OiAzMTcgfSxcdCdzY0JlbGdpdW0nOiB7IHg6IDE4NiwgeTogMzA1IH0sXG5cdCdCZXJsaW4nOiB7IHg6IDI3OSwgeTogMjgzIH0sXHQnc2NCZXJsaW4nOiB7IHg6IDI4MSwgeTogMjk4IH0sXG5cdCdCbGFja19TZWEnOiB7IHg6IDQ4NCwgeTogNDIwIH0sXG5cdCdCb2hlbWlhJzogeyB4OiAyODksIHk6IDMzNiB9LFxuXHQnQnJlc3QnOiB7IHg6IDEyNSwgeTogMzM0IH0sXHQnc2NCcmVzdCc6IHsgeDogMTA2LCB5OiAzMjIgfSxcblx0J0J1ZGFwZXN0JzogeyB4OiAzNTMsIHk6IDM3OCB9LFx0J3NjQnVkYXBlc3QnOiB7IHg6IDMyNiwgeTogMzc2IH0sXG5cdCdCdWxnYXJpYSc6IHsgeDogMzk1LCB5OiA0NDMgfSxcdCdzY0J1bGdhcmlhJzogeyB4OiAzNzcsIHk6IDQ0NCB9LFxuXHQnQnVsZ2FyaWFfX2VjJzogeyB4OiA0MTAsIHk6IDQ0MCB9LFxuXHQnQnVsZ2FyaWFfX3NjJzogeyB4OiAzOTksIHk6IDQ2MiB9LFxuXHQnQnVyZ3VuZHknOiB7IHg6IDE5MSwgeTogMzYwIH0sXG5cdCdDbHlkZSc6IHsgeDogMTM5LCB5OiAxODggfSxcblx0J0NvbnN0YW50aW5vcGxlJzogeyB4OiA0MzksIHk6IDQ3MyB9LFx0J3NjQ29uc3RhbnRpbm9wbGUnOiB7IHg6IDQyOSwgeTogNDYwIH0sXG5cdCdEZW5tYXJrJzogeyB4OiAyNTYsIHk6IDI0NSB9LFx0J3NjRGVubWFyayc6IHsgeDogMjcyLCB5OiAyNTIgfSxcblx0J0Vhc3Rlcm5fTWVkaXRlcnJhbmVhbic6IHsgeDogNDc0LCB5OiA1NDYgfSxcblx0J0VkaW5idXJnaCc6IHsgeDogMTU3LCB5OiAyMTAgfSxcdCdzY0VkaW5idXJnaCc6IHsgeDogMTU0LCB5OiAyMTkgfSxcblx0J0VuZ2xpc2hfQ2hhbm5lbCc6IHsgeDogMTE5LCB5OiAzMDcgfSxcblx0J0ZpbmxhbmQnOiB7IHg6IDM4NSwgeTogMTQzIH0sXG5cdCdHYWxpY2lhJzogeyB4OiAzNzcsIHk6IDM0MyB9LFxuXHQnR2FzY29ueSc6IHsgeDogMTM3LCB5OiAzODggfSxcblx0J0dyZWVjZSc6IHsgeDogMzY2LCB5OiA1MTUgfSxcdCdzY0dyZWVjZSc6IHsgeDogMzc4LCB5OiA1MDcgfSxcblx0J0d1bGZfb2ZfTHlvbic6IHsgeDogMTgwLCB5OiA0NDQgfSxcblx0J0d1bGZfb2ZfQm90aG5pYSc6IHsgeDogMzQ4LCB5OiAxOTkgfSxcblx0J0hlbGdvbGFuZF9CaWdodCc6IHsgeDogMjI2LCB5OiAyNTIgfSxcblx0J0hvbGxhbmQnOiB7IHg6IDIwNSwgeTogMjk3IH0sXHQnc2NIb2xsYW5kJzogeyB4OiAyMDUsIHk6IDI4NCB9LFxuXHQnSW9uaWFuX1NlYSc6IHsgeDogMzI0LCB5OiA1NDAgfSxcblx0J0lyaXNoX1NlYSc6IHsgeDogOTAsIHk6IDI3NiB9LFxuXHQnS2llbCc6IHsgeDogMjQzLCB5OiAyOTUgfSxcdCdzY0tpZWwnOiB7IHg6IDI1NCwgeTogMjc4IH0sXG5cdCdMaXZlcnBvb2wnOiB7IHg6IDE0MiwgeTogMjQxIH0sXHQnc2NMaXZlcnBvb2wnOiB7IHg6IDE0NCwgeTogMjU3IH0sXG5cdCdMaXZvbmlhJzogeyB4OiAzODIsIHk6IDI0NSB9LFxuXHQnTG9uZG9uJzogeyB4OiAxNjIsIHk6IDI4MSB9LFx0J3NjTG9uZG9uJzogeyB4OiAxNjIsIHk6IDI5MCB9LFxuXHQnTWFyc2VpbGxlcyc6IHsgeDogMTg4LCB5OiAzOTggfSxcdCdzY01hcnNlaWxsZXMnOiB7IHg6IDE4NiwgeTogNDE3IH0sXG5cdCdNaWRfQXRsYW50aWNfT2NlYW4nOiB7IHg6IDIzLCB5OiAzNTUgfSxcblx0J01vc2Nvdyc6IHsgeDogNTA1LCB5OiAyMjYgfSxcdCdzY01vc2Nvdyc6IHsgeDogNDgxLCB5OiAyMzQgfSxcblx0J011bmljaCc6IHsgeDogMjQzLCB5OiAzNDcgfSxcdCdzY011bmljaCc6IHsgeDogMjU4LCB5OiAzNTkgfSxcblx0J05hcGxlcyc6IHsgeDogMjk5LCB5OiA1MDUgfSxcdCdzY05hcGxlcyc6IHsgeDogMjc4LCB5OiA0NjkgfSxcblx0J05vcnRoX0F0bGFudGljX09jZWFuJzogeyB4OiA2NSwgeTogMTQwIH0sXG5cdCdOb3J0aF9BZnJpY2EnOiB7IHg6IDEwMCwgeTogNTM2IH0sXG5cdCdOb3J0aF9TZWEnOiB7IHg6IDIwNCwgeTogMjE1IH0sXG5cdCdOb3J3YXknOiB7IHg6IDI2NCwgeTogMTYwIH0sXHQnc2NOb3J3YXknOiB7IHg6IDI3MCwgeTogMTg3IH0sXG5cdCdOb3J3ZWdpYW5fU2VhJzogeyB4OiAyMjAsIHk6IDkwIH0sXG5cdCdQYXJpcyc6IHsgeDogMTYyLCB5OiAzNDYgfSxcdCdzY1BhcmlzJzogeyB4OiAxNzMsIHk6IDMzNCB9LFxuXHQnUGljYXJkeSc6IHsgeDogMTY4LCB5OiAzMTkgfSxcblx0J1BpZWRtb250JzogeyB4OiAyMjAsIHk6IDM5NSB9LFxuXHQnUG9ydHVnYWwnOiB7IHg6IDM0LCB5OiA0MTcgfSxcdCdzY1BvcnR1Z2FsJzogeyB4OiAxNSwgeTogNDM0IH0sXG5cdCdQcnVzc2lhJzogeyB4OiAzMTUsIHk6IDI4MyB9LFxuXHQnUm9tZSc6IHsgeDogMjY0LCB5OiA0NTIgfSxcdCdzY1JvbWUnOiB7IHg6IDI1MiwgeTogNDQzIH0sXG5cdCdSdWhyJzogeyB4OiAyMjMsIHk6IDMyMCB9LFxuXHQnUnVtYW5pYSc6IHsgeDogNDE1LCB5OiA0MDUgfSxcdCdzY1J1bWFuaWEnOiB7IHg6IDQwMiwgeTogNDEzIH0sXG5cdCdTZXJiaWEnOiB7IHg6IDM1MSwgeTogNDM4IH0sXHQnc2NTZXJiaWEnOiB7IHg6IDM0MywgeTogNDE5IH0sXG5cdCdTZXZhc3RvcG9sJzogeyB4OiA1MTUsIHk6IDMzMCB9LFx0J3NjU2V2YXN0b3BvbCc6IHsgeDogNDgzLCB5OiAzOTYgfSxcblx0J1NpbGVzaWEnOiB7IHg6IDMwNCwgeTogMzE0IH0sXG5cdCdTa2FnZXJyYWsnOiB7IHg6IDI2MCwgeTogMjEyIH0sXG5cdCdTbXlybmEnOiB7IHg6IDQ5MCwgeTogNTA1IH0sXHQnc2NTbXlybmEnOiB7IHg6IDQyNCwgeTogNTAyIH0sXG5cdCdTcGFpbic6IHsgeDogNjQsIHk6IDQzOSB9LFx0J3NjU3BhaW4nOiB7IHg6IDgwLCB5OiA0MzIgfSxcblx0J1NwYWluX19uYyc6IHsgeDogODAsIHk6IDQwNCB9LFxuXHQnU3BhaW5fX3NjJzogeyB4OiA1MiwgeTogNDc1IH0sXG5cdCdTdF9QZXRlcnNidXJnJzogeyB4OiA1MDAsIHk6IDE0MCB9LFx0J3NjU3RfUGV0ZXJzYnVyZyc6IHsgeDogNDE4LCB5OiAxODcgfSxcblx0J1N0X1BldGVyc2J1cmdfX25jJzogeyB4OiA0NzIsIHk6IDEyMiB9LFxuXHQnU3RfUGV0ZXJzYnVyZ19fc2MnOiB7IHg6IDQxOCwgeTogMjA1IH0sXG5cdCdTd2VkZW4nOiB7IHg6IDMxNSwgeTogMTQwIH0sXHQnc2NTd2VkZW4nOiB7IHg6IDMyMywgeTogMTk2IH0sXG5cdCdTeXJpYSc6IHsgeDogNTcwLCB5OiA1MjAgfSxcblx0J1RyaWVzdGUnOiB7IHg6IDMwNSwgeTogNDEyIH0sXHQnc2NUcmllc3RlJzogeyB4OiAyODQsIHk6IDM5NiB9LFxuXHQnVHVuaXMnOiB7IHg6IDIxMiwgeTogNTQyIH0sXHQnc2NUdW5pcyc6IHsgeDogMjIwLCB5OiA1MjkgfSxcblx0J1R1c2NhbnknOiB7IHg6IDI0NywgeTogNDMwIH0sXG5cdCdUeXJvbGlhJzogeyB4OiAyNzcsIHk6IDM3OCB9LFxuXHQnVHlycmhlbmlhbl9TZWEnOiB7IHg6IDI0NiwgeTogNDgzIH0sXG5cdCdVa3JhaW5lJzogeyB4OiA0MjcsIHk6IDMyNyB9LFxuXHQnVmVuaWNlJzogeyB4OiAyNTAsIHk6IDQwOCB9LFx0J3NjVmVuaWNlJzogeyB4OiAyNjEsIHk6IDM5NyB9LFxuXHQnVmllbm5hJzogeyB4OiAzMTQsIHk6IDM2MCB9LFx0J3NjVmllbm5hJzogeyB4OiAzMDEsIHk6IDM2MyB9LFxuXHQnV2FsZXMnOiB7IHg6IDEyNSwgeTogMjg1IH0sXG5cdCdXYXJzYXcnOiB7IHg6IDM2MSwgeTogMzE1IH0sXHQnc2NXYXJzYXcnOiB7IHg6IDM0NiwgeTogMzAyIH0sXG5cdCdXZXN0ZXJuX01lZGl0ZXJyYW5lYW4nOiB7IHg6IDE0MCwgeTogNDkyIH0sXG5cdCdZb3Jrc2hpcmUnOiB7IHg6IDE2MSwgeTogMjU0IH0sXG59XG5cbmV4cG9ydCBkZWZhdWx0IGxvY2F0aW9uc1xuIiwiZXhwb3J0IGRlZmF1bHQgSlNPTi5zdHJpbmdpZnkoe1xuICBFbmdsYW5kOiBbXG4gICAgeyB1bml0VHlwZTogJ2ZsZWV0JywgbG9jYXRpb246ICdTcGFpbl9fc2MnIH0sXG4gICAgeyB1bml0VHlwZTogJ2ZsZWV0JywgbG9jYXRpb246ICdNaWRfQXRsYW50aWNfT2NlYW4nIH0sXG4gICAgeyB1bml0VHlwZTogJ2ZsZWV0JywgbG9jYXRpb246ICdFbmdsaXNoX0NoYW5uZWwnIH0sXG4gICAgeyB1bml0VHlwZTogJ2FybXknLCBsb2NhdGlvbjogJ0J1cmd1bmR5JyB9LFxuICAgIHsgdW5pdFR5cGU6ICdhcm15JywgbG9jYXRpb246ICdIb2xsYW5kJyB9LFxuICBdLCBcbiAgSXRhbHk6IFtcbiAgICB7IHVuaXRUeXBlOiAnZmxlZXQnLCBsb2NhdGlvbjogJ1JvbWUnIH0sXG4gICAgeyB1bml0VHlwZTogJ2ZsZWV0JywgbG9jYXRpb246ICdNYXJzZWlsbGVzJyB9LFxuICAgIHsgdW5pdFR5cGU6ICdhcm15JywgbG9jYXRpb246ICdQaWVkbW9udCcgfSxcbiAgICB7IHVuaXRUeXBlOiAnYXJteScsIGxvY2F0aW9uOiAnVmllbm5hJyB9LFxuICBdXG59KVxuIiwiZXhwb3J0IGRlZmF1bHQgSlNPTi5zdHJpbmdpZnkoe1xuICBcIm1vdmVzXCI6IFtcbiAgICB7XG4gICAgICBcImNvdW50cnlcIjogXCJFbmdsYW5kXCIsXG4gICAgICBcInN0YXJ0XCI6IFwiTG9uZG9uXCIsXG4gICAgICBcImVuZFwiOiBcIllvcmtzaGlyZVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcImNvdW50cnlcIjogXCJHZXJtYW55XCIsXG4gICAgICBcInN0YXJ0XCI6IFwiQmVybGluXCIsXG4gICAgICBcImVuZFwiOiBcIktpZWxcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJjb3VudHJ5XCI6IFwiRnJhbmNlXCIsXG4gICAgICBcInN0YXJ0XCI6IFwiQnVyZ3VuZHlcIixcbiAgICAgIFwiZW5kXCI6IFwiTWFyc2VpbGxlc1wiXG4gICAgfSxcbiAgXVxufSlcbiIsImV4cG9ydCBkZWZhdWx0IEpTT04uc3RyaW5naWZ5KHtcbiAgXCJ0ZXJyaXRvcmllc1wiOiB7XG4gICAgXCJFbmdsYW5kXCI6IFtcIkxvbmRvblwiLCBcIkxpdmVycG9vbFwiLCBcIllvcmtzaGlyZVwiLCBcIkNseWRlXCIsIFwiRWRpbmJ1cmdoXCIsIFwiV2FsZXNcIl0sXG4gICAgXCJGcmFuY2VcIjogW1wiUGljYXJkeVwiLCBcIkJyZXN0XCIsIFwiUGFyaXNcIiwgXCJHYXNjb255XCIsIFwiQnVyZ3VuZHlcIiwgXCJNYXJzZWlsbGVzXCJdLFxuICAgIFwiSXRhbHlcIjogW1wiUGllZG1vbnRcIiwgXCJWZW5pY2VcIiwgXCJSb21lXCIsIFwiTmFwbGVzXCIsIFwiQXB1bGlhXCIsIFwiVHVzY2FueVwiXSxcbiAgICBcIkdlcm1hbnlcIjogW1wiQmVybGluXCIsIFwiUnVoclwiLCBcIk11bmljaFwiLCBcIktpZWxcIiwgXCJTaWxlc2lhXCIsIFwiUHJ1c3NpYVwiXSxcbiAgICBcIkF1c3RyaWFcIjogW1wiQm9oZW1pYVwiLCBcIkJ1ZGFwZXN0XCIsIFwiVHlyb2xpYVwiLCBcIkdhbGljaWFcIiwgXCJWaWVubmFcIiwgXCJUcmllc3RlXCJdLFxuICAgIFwiUnVzc2lhXCI6IFtcIldhcnNhd1wiLCBcIkxpdm9uaWFcIiwgXCJTZXZhc3RvcG9sXCIsIFwiTW9zY293XCIgLCBcIlVrcmFpbmVcIiwgXCJGaW5sYW5kXCIsIFwiU3RfUGV0ZXJzYnVyZ1wiXSxcbiAgICBcIlR1cmtleVwiOiBbXCJDb25zdGFudGlub3BsZVwiLCBcIlNteXJuYVwiLCBcIlN5cmlhXCIsIFwiQW5rYXJhXCIsIFwiQXJtZW5pYVwiXVxuICB9XG59KVxuXG4vLyB7XG4vLyAgIEVuZ2xhbmQ6IFsnTG9uZG9uJywgJ0xpdmVycG9vbCcsICdZb3Jrc2hpcmUnLCAnQ2x5ZGUnLCAnRWRpbmJ1cmdoJywgJ1dhbGVzJ10sXG4vLyAgIEZyYW5jZTogWydQaWNhcmR5JywgJ0JyZXN0JywgJ1BhcmlzJywgJ0dhc2NvbnknLCAnQnVyZ3VuZHknLCAnTWFyc2VpbGxlcyddLFxuLy8gICBJdGFseTogWydQaWVkbW9udCcsICdWZW5pY2UnLCAnUm9tZScsICdOYXBsZXMnLCAnQXB1bGlhJywgJ1R1c2NhbnknXSxcbi8vICAgR2VybWFueTogWydCZXJsaW4nLCAnUnVocicsICdNdW5pY2gnLCAnS2llbCcsICdTaWxlc2lhJywgJ1BydXNzaWEnXSxcbi8vICAgQXVzdHJpYTogWydCb2hlbWlhJywgJ0J1ZGFwZXN0JywgJ1R5cm9saWEnLCAnR2FsaWNpYScsICdWaWVubmEnLCAnVHJpZXN0ZSddLFxuLy8gICBSdXNzaWE6IFsnV2Fyc2F3JywgJ0xpdm9uaWEnLCAnU2V2YXN0b3BvbCcsICdNb3Njb3cnICwgJ1VrcmFpbmUnLCAnRmlubGFuZCcsICdTdF9QZXRlcnNidXJnJ10sXG4vLyAgIFR1cmtleTogWydDb25zdGFudGlub3BsZScsICdTbXlybmEnLCAnU3lyaWEnLCAnQW5rYXJhJywgJ0FybWVuaWEnXVxuLy8gfSIsImltcG9ydCBjb2xvdXJzIGZyb20gJy4uL3Jlc291cmNlcy9jb2xvdXJzJ1xuaW1wb3J0IGVudGl0eUxvY2F0aW9ucyBmcm9tICcuLi9yZXNvdXJjZXMvZW50aXR5TG9jYXRpb25zJ1xuaW1wb3J0IGV4YW1wbGVHYW1lU3RhdGUgZnJvbSAnLi4vcmVzb3VyY2VzL2V4YW1wbGVHYW1lU3RhdGUnXG5pbXBvcnQgZXhhbXBsZU1vdmVzSnNvbiBmcm9tICcuLi9yZXNvdXJjZXMvZXhhbXBsZU1vdmVzJ1xuaW1wb3J0IHN0YXJ0aW5nVGVycml0b3JpZXMgZnJvbSAnLi4vcmVzb3VyY2VzL3N0YXJ0aW5nVGVycml0b3JpZXMnXG5cbmltcG9ydCBDb3VudHJ5IGZyb20gJy4uL3Jlc291cmNlcy9jb3VudHJ5LmVudW0nXG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBjbGFzcyBQcm90b3R5cGUge1xuICBwcml2YXRlIHN2ZzogSFRNTEVsZW1lbnRcbiAgcHJpdmF0ZSBzdGF0ZTogeyd0ZXJyaXRvcmllcyc6IHtba2V5OiBzdHJpbmddOiBzdHJpbmdbXX19XG4gIHByaXZhdGUgdGlsZVNlbGVjdGVkOiBzdHJpbmdcbiAgcHJpdmF0ZSB1bml0czogYW55IC8vIHVuaXRzIHR5cGU/XG4gIHByaXZhdGUgc3ZnSnM6IGFueVxuICBwcml2YXRlIHBsYXllckNvdW50cnk6IHN0cmluZyA9IFwiRW5nbGFuZFwiXG4gIFxuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoc3RhcnRpbmdUZXJyaXRvcmllcylcbiAgfVxuXG4gIHB1YmxpYyBzZXRTdGF0ZSA9IChzdGF0ZUFzSlNPTjogc3RyaW5nKSA9PiB7XG4gICAgdGhpcy5zdGF0ZSA9IEpTT04ucGFyc2Uoc3RhdGVBc0pTT04pXG4gIH1cblxuICBwdWJsaWMgcnVuID0gKCkgPT4ge31cblxuICBwdWJsaWMgc2V0dXAgPSAoc3ZnOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgIHRoaXMuc3ZnID0gc3ZnXG4gICAgY29uc3QgdGlsZXMgPSBBcnJheS5mcm9tKHN2Zy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWFUaWxlJykgYXMgSFRNTENvbGxlY3Rpb25PZjxIVE1MRWxlbWVudD4pXG4gICAgdGlsZXMucHVzaCguLi5BcnJheS5mcm9tKHN2Zy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdsYW5kVGlsZScpIGFzIEhUTUxDb2xsZWN0aW9uT2Y8SFRNTEVsZW1lbnQ+KSlcbiAgICB0aWxlcy5mb3JFYWNoKCh0aWxlKSA9PiB7XG4gICAgICAvLyB0aWxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4geyBjb25zb2xlLmxvZyh0aWxlLmdldEF0dHJpYnV0ZSgndGl0bGUnKSkgfSlcbiAgICAgIHRpbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7IHRoaXMub25DbGljayh0aWxlLmdldEF0dHJpYnV0ZSgndGl0bGUnKSkgfSlcbiAgICB9KVxuICAgIGNvbnN0IG9jY3VwaWVkVGVycml0b3JpZXMgPSB0aGlzLnN0YXRlLnRlcnJpdG9yaWVzXG4gICAgZm9yIChjb25zdCBjb3VudHJ5IGluIG9jY3VwaWVkVGVycml0b3JpZXMpIHtcbiAgICAgIGlmIChvY2N1cGllZFRlcnJpdG9yaWVzLmhhc093blByb3BlcnR5KGNvdW50cnkpKSB7XG4gICAgICAgIG9jY3VwaWVkVGVycml0b3JpZXNbY291bnRyeV0uZm9yRWFjaCgodGVycml0b3J5KSA9PiB0aGlzLnNldE93bmVyc2hpcCh0ZXJyaXRvcnksIGNvdW50cnkpKVxuICAgICAgfVxuICAgIH1cbiAgICAvLyBDcmVhdGUgb2JqZWN0cyBmb3IgdW5pdHMgYW5kIHRlcnJpdG9yeSBldGMuXG4gICAgLy8gQW5kIHRoZW4gZHJhdyBmcm9tIGludGVybmFsIHN0YXRlP1xuICAgIC8vIEVhc2llciB0byBjaGVjayBydWxlcy5cbiAgICB0aGlzLnVuaXRzID0gSlNPTi5wYXJzZShleGFtcGxlR2FtZVN0YXRlKVxuICAgIHRoaXMuZHJhd1VuaXRzKHRoaXMudW5pdHMpXG4gICAgdGhpcy5kcmF3SW5zdHJ1Y3Rpb25zKEpTT04ucGFyc2UoZXhhbXBsZU1vdmVzSnNvbikpXG4gIH1cblxuICBwcml2YXRlIG9uQ2xpY2sgPSAodGVycml0b3J5OiBzdHJpbmcpID0+IHtcbiAgICBpZiAodGhpcy50aWxlU2VsZWN0ZWQpIHtcbiAgICAgIHRoaXMuZHJhd0xpbmUoZW50aXR5TG9jYXRpb25zW3RoaXMudGlsZVNlbGVjdGVkXSwgZW50aXR5TG9jYXRpb25zW3RlcnJpdG9yeV0pXG4gICAgICB0aGlzLnRpbGVTZWxlY3RlZCA9IG51bGxcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zdGFydE9yZGVyKHRlcnJpdG9yeSlcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHN0YXJ0T3JkZXIgPSAodGVycml0b3J5OiBzdHJpbmcpID0+IHtcbiAgICBpZiAodGhpcy5wbGF5ZXJIYXNVbml0QXQodGVycml0b3J5KSl7XG4gICAgICB0aGlzLnRpbGVTZWxlY3RlZCA9IHRlcnJpdG9yeVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcGxheWVySGFzVW5pdEF0ID0gKHRlcnJpdG9yeTogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgdW5pdCA9IHRoaXMudW5pdHNbdGhpcy5wbGF5ZXJDb3VudHJ5XS5maW5kKCh1bml0OiBhbnkpID0+IHtcbiAgICAgIHJldHVybiB1bml0LmxvY2F0aW9uID09PSB0ZXJyaXRvcnlcbiAgICB9KVxuICAgIHJldHVybiAhIXVuaXRcbiAgfVxuXG4gIHByaXZhdGUgZHJhd0xpbmUgPSAoc3RhcnQ6IHt4OiBudW1iZXIsIHk6IG51bWJlcn0sIGVuZDoge3g6IG51bWJlciwgeTogbnVtYmVyfSwgY29sb3I/OiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBsaW5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdwYXRoJylcbiAgICBsaW5lLnNldEF0dHJpYnV0ZSgnZCcsYE0gJHtzdGFydC54fSAke3N0YXJ0Lnl9IEwgJHtlbmQueH0gJHtlbmQueX1gKSAvLyBTZXQgcGF0aCdzIGRhdGFcbiAgICAvLyBsaW5lLnN0eWxlLnN0cm9rZSA9IGNvbG9yIHx8ICcjMDAwJyAvLyBTZXQgc3Ryb2tlIGNvbG91clxuICAgIGxpbmUuc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnZ3JlZW4nKVxuICAgIGxpbmUuc3R5bGUuc3Ryb2tlV2lkdGggPSAnMnB4J1xuICAgIGxpbmUuc3R5bGUubWFya2VyRW5kID0gJ3VybCgjdHJpYW5nbGUpJ1xuICAgIHRoaXMuc3ZnLmFwcGVuZENoaWxkKGxpbmUpXG4gIH1cblxuICAvLyBFbnVtIGZvciBjb3VudHJpZXM/XG4gIHByaXZhdGUgZHJhd1VuaXRzID0gKGdhbWVTdGF0ZToge1trZXk6IHN0cmluZ106IHt1bml0VHlwZTogc3RyaW5nLCBsb2NhdGlvbjogc3RyaW5nfVtdfSkgPT4ge1xuICAgIGZvciAobGV0IG4gaW4gQ291bnRyeSkge1xuICAgICAgaWYgKENvdW50cnkuaGFzT3duUHJvcGVydHkobikpIHtcbiAgICAgICAgY29uc3QgY291bnRyeSA9IENvdW50cnlbbl1cbiAgICAgICAgaWYgKCFnYW1lU3RhdGVbY291bnRyeV0pIHtjb250aW51ZX1cblxuICAgICAgICBnYW1lU3RhdGVbY291bnRyeV0uZm9yRWFjaCgodW5pdCkgPT4ge1xuICAgICAgICAgIHRoaXMuZHJhd1VuaXQodW5pdC5sb2NhdGlvbiwgY291bnRyeSwgdW5pdC51bml0VHlwZSlcbiAgICAgICAgfSlcbiAgICAgICAgLy8gZ2FtZVN0YXRlW2NvdW50cnldLmFybWllcy5mb3JFYWNoKChhcm15TG9jYXRpb24pID0+IHtcbiAgICAgICAgLy8gICB0aGlzLmRyYXdUYW5rKGFybXlMb2NhdGlvbiwgY291bnRyeSlcbiAgICAgICAgLy8gfSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGRyYXdVbml0ID0gKHVuaXRMb2NhdGlvbjogc3RyaW5nLCBwbGF5ZXJDb3VudHJ5OiBzdHJpbmcsIHVuaXRUeXBlOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCB1bml0Q2xhc3Nlczoge1trZXk6IHN0cmluZ106IHN0cmluZ30gPSB7ZmxlZXQ6ICcjRicsIGFybXk6ICcjQSd9XG4gICAgY29uc3QgdW5pdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAndXNlJylcbiAgICBjb25zdCBsb2NhdGlvbiA9IGVudGl0eUxvY2F0aW9uc1t1bml0TG9jYXRpb25dXG4gICAgdW5pdC5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCB1bml0Q2xhc3Nlc1t1bml0VHlwZV0pXG4gICAgdW5pdC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgcGxheWVyQ291bnRyeSlcbiAgICB1bml0LnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke2xvY2F0aW9uLnh9LCAke2xvY2F0aW9uLnl9KWApXG4gICAgdGhpcy5zdmcuYXBwZW5kQ2hpbGQodW5pdClcbiAgfVxuXG4gIC8vIHByaXZhdGUgZHJhd0ZsZWV0ID0gKGZsZWV0TG9jYXRpb246IHN0cmluZywgcGxheWVyQ291bnRyeTpzdHJpbmcpID0+IHtcbiAgLy8gICBjb25zdCBzaGlwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICd1c2UnKVxuICAvLyAgIGNvbnN0IGxvY2F0aW9uID0gZW50aXR5TG9jYXRpb25zW2ZsZWV0TG9jYXRpb25dXG4gIC8vICAgc2hpcC5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCAnI0YnKVxuICAvLyAgIHNoaXAuc2V0QXR0cmlidXRlKCdjbGFzcycsIHBsYXllckNvdW50cnkpXG4gIC8vICAgc2hpcC5zZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHtsb2NhdGlvbi54fSwgJHtsb2NhdGlvbi55fSlgKVxuICAvLyAgIHRoaXMuc3ZnLmFwcGVuZENoaWxkKHNoaXApXG4gIC8vIH1cblxuICAvLyBwcml2YXRlIGRyYXdUYW5rID0gKGFybXlMb2NhdGlvbjogc3RyaW5nLCBwbGF5ZXJDb3VudHJ5OnN0cmluZykgPT4ge1xuICAvLyAgIGNvbnN0IGFybXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3VzZScpXG4gIC8vICAgY29uc3QgbG9jYXRpb24gPSBlbnRpdHlMb2NhdGlvbnNbYXJteUxvY2F0aW9uXVxuICAvLyAgIGFybXkuc2V0QXR0cmlidXRlKCdocmVmJywgJyNBJylcbiAgLy8gICBhcm15LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBwbGF5ZXJDb3VudHJ5KVxuICAvLyAgIGFybXkuc2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7bG9jYXRpb24ueH0sICR7bG9jYXRpb24ueX0pYClcbiAgLy8gICB0aGlzLnN2Zy5hcHBlbmRDaGlsZChhcm15KVxuICAvLyB9XG5cbiAgcHJpdmF0ZSBkcmF3SW5zdHJ1Y3Rpb25zID0gKGluc3RydWN0aW9uczoge21vdmVzOiB7c3RhcnQ6IHN0cmluZywgZW5kOiBzdHJpbmcsIGNvdW50cnk6IHN0cmluZ31bXSB9KSA9PiB7XG4gICAgaW5zdHJ1Y3Rpb25zLm1vdmVzLmZvckVhY2goKG1vdmUpID0+IHtcbiAgICAgIHRoaXMuZHJhd0xpbmUoZW50aXR5TG9jYXRpb25zW21vdmUuc3RhcnRdLCBlbnRpdHlMb2NhdGlvbnNbbW92ZS5lbmRdLCBjb2xvdXJzW21vdmUuY291bnRyeV0pXG4gICAgfSlcbiAgfVxuXG4gIHByaXZhdGUgc2V0T3duZXJzaGlwID0gKHRlcnJpdG9yeTogc3RyaW5nLCBvd25lcjogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgdGVycml0b3J5RWxlbWVudHMgPSBBcnJheS5mcm9tKHRoaXMuc3ZnLmdldEVsZW1lbnRzQnlDbGFzc05hbWUodGVycml0b3J5KSlcbiAgICB0ZXJyaXRvcnlFbGVtZW50cy5mb3JFYWNoKCh0ZXJyKSA9PiB7XG4gICAgICB0ZXJyLmNsYXNzTGlzdC5yZW1vdmUoJ0VuZ2xhbmQnLCAnRnJhbmNlJywgJ0dlcm1hbnknLCAnQXVzdHJpYScsICdSdXNzaWEnLCAnSXRhbHknLCAnVHVya2V5JylcbiAgICAgIHRlcnIuY2xhc3NMaXN0LmFkZChvd25lcilcbiAgICB9KVxuICB9XG59ICgpXG4iLCJpbXBvcnQgRW5naW5lIGZyb20gJy4vZW5naW5lL3Byb3RvdHlwZSdcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IHN2Z09iamVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluTWFwJykgYXMgSFRNTE9iamVjdEVsZW1lbnRcbiAgY29uc3Qgc3ZnID0gc3ZnT2JqZWN0LmNvbnRlbnREb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwU3ZnJylcbiAgRW5naW5lLnNldHVwKHN2ZylcbiAgRW5naW5lLnJ1bigpXG59KVxuIl0sInNvdXJjZVJvb3QiOiIifQ==